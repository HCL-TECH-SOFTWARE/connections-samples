var page_loaded="complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState,readonly_org={},warning_message="THIS ORG IS IN READ-ONLY MODE",PERISCOPE_ENABLED=null;
function get_org_id(a){var b=new XMLHttpRequest;b.onreadystatechange=function(){if(4==this.readyState&&200==this.status){if("string"===typeof this.responseText){var b=JSON.parse(this.responseText);readonly_org.org_id="undefined"!==b.bannernext.custid?b.bannernext.custid:!1}a()}};b.open("GET","/navbar/bannernext?rp=replacements",!0);b.send()}
function inject_readonly_header(){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==this.readyState&&200==this.status&&"string"===typeof this.responseText){var b=JSON.parse(this.responseText);!1!==b.message&&(warning_message=b.message.warning_message);b="40px";null!==document.getElementById("lotusFrame")&&-1<document.getElementById("lotusFrame").className.indexOf("3columns")&&(b="-20px");b='<div style="position:absolute;background-color:yellow;width:100%;text-align:center;color:red;font-weight:bold;font-size:16px;top:'+
b+';z-index:1;">'+warning_message+"</div>";var a=document.createElement("div");a.innerHTML=b;a.id="read-only-warning-message";document.getElementsByTagName("body")[0].appendChild(a);document.getElementsByTagName("body")[0].style.marginTop="65px";window.location.pathname.startsWith("/communities")&&PERISCOPE_ENABLED&&(document.querySelector("#read-only-warning-message div").style.position="fixed")}};a.open("GET","/muse/data/get/hcl_readonly_"+readonly_org.org_id,!0);a.send()}
if(!page_loaded)var timer=setInterval(function(){if(null!==document.getElementById("bss-usersMenu")){PERISCOPE_ENABLED=check_if_periscope_enabled();get_org_id(inject_readonly_header);PERISCOPE_ENABLED&&setTimeout(function(){document.querySelector("body").style.setProperty("margin-top","60px","important")},1500);clearInterval(timer);if(null!==document.getElementById("bss-adminMenu")){var a=function(){document.getElementById("ce_feature_select_modal").outerHTML=""},b=function(){document.querySelectorAll("#ce_feature_select_modal input.feature_select_checkbox");
var b={warning_message:document.getElementById("warning_message").value},a=new XMLHttpRequest;a.onreadystatechange=function(){4==this.readyState&&200==this.status&&window.location.reload()};a.open("POST","/muse/data/post/hcl_readonly_"+readonly_org.org_id,!0);a.setRequestHeader("Content-type","application/json");a.send('{"client-data" : '+JSON.stringify(b)+',"script-name" : "hcl_readonly_'+readonly_org.org_id+'"}')},c=document.createElement("li"),e=document.createElement("a");c.className="ce_admin_panel";
e.setAttribute("href","javascript:void(0);");e.setAttribute("class","ce_admin_panel");e.setAttribute("role","menuitem");e.setAttribute("tabindex","0");e.appendChild(document.createTextNode("CE FEATURES"));c.appendChild(e);c.addEventListener("click",function(d){d.preventDefault();d=document.createElement("div");d.setAttribute("id","ce_feature_select_modal");d.innerHTML='<style type="text/css">#modal_community_members > div{height:50px;border-bottom:1px solid #000000;}#modal_community_members > div.disabled{background-color: rgba(0,0,0,0.3);}#modal_community_members div.user_photo{width:50px;height:50px;float:left;margin-left:15px;}#modal_community_members div.user_photo img{margin-top:2px;border-radius:15px;height:45px;width:45px;}#modal_community_members div.user_name{height:50px;float:left;margin-left:15px;}#modal_community_members div.user_name span{display:block;font-weight:bold;}#modal_community_members div.confirm{float:right;margin-top:12px;}#delete_community_members_modal .delete_button:hover{text-decoration:none !important;border-color:#bf0101 !important;color:#bf0101 !important;}#delete_community_members_modal .cancel_button:hover{text-decoration:none !important;border-color:#1D3458 !important;color:#1D3458 !important;}</style><div style="position:fixed;top:0;bottom:0;left:0;right:0;background-color:rgba(0,0,0,0.7);z-index:1500;"></div><div id="delete_community_members_modal" style="position:fixed;width:450px;height:500px;z-index:999999999999999999;top:50%;left:50%;margin:-250px 0 0 -225px;background:white;box-shadow:0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);"><div style="width: 100%;height: 45px;background-color: #325c80;color: #FFFFFF;text-align: center;line-height: 45px;font-size: 22px;border-bottom: 1px solid #264661;">Read-Only Settings</div><div style="height: 30px;border-bottom: 1px solid #000000;line-height: 30px;"></div><div style="width:100%;height: 370px;border-bottom: 1px solid #000000;overflow-y: scroll;" id="modal_community_members"></div><div><a href="javascript:void(0);" style="display: inline-block;padding: 8px 17px;margin: 5px;border: 2px solid #ff0000;color: #ff0000 !important;" id="modal_delete_button" class="delete_button">Save</a><a style="display: inline-block;padding: 8px 17px;margin: 5px;border: 2px solid #325c80;color:#325c80 !important;" class="cancel_button" id="modal_cancel_button" href="javascript:void(0);">Cancel</a></div></div>';
document.getElementsByTagName("body")[0].appendChild(d);d='<label>Read Only Warning Msg:</label><input type="text" id="warning_message" value="'+warning_message.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")+'"/>';document.getElementById("modal_community_members").innerHTML=d;document.getElementById("modal_delete_button").addEventListener("click",b,!1);document.getElementById("modal_cancel_button").addEventListener("click",a,!1)},!1);
document.querySelector("#bss-adminMenu ul").appendChild(c)}CNX_DISABLE_INPUT_FIELDS();window.location.pathname.startsWith("/files/app#/person/")&&disable_filedrop_upload_dialog_submit_button();window.location.pathname.startsWith("/mycontacts")&&setInterval(function(){null!==document.querySelectorAll("div.sccontact div.lotusBtnContainer")&&Array.prototype.slice.call(document.querySelectorAll("div.sccontact div.lotusBtnContainer")).forEach(function(a){a.outerHTML=""});document.querySelectorAll("div.sccontact div.networkAction ");
null!==document.querySelectorAll("div.sccontact div.networkAction")&&Array.prototype.slice.call(document.querySelectorAll("div.sccontact div.networkAction")).forEach(function(a){a.outerHTML=""})});window.location.pathname.startsWith("/profiles")&&(null!==document.getElementById("addTagButtonId")&&(lconn.profiles.SocialTags.saveNewTag=function(){return!1}),null!==document.getElementById("editProfileButton")&&(document.getElementById("editProfileButton").onClick="",document.getElementById("editProfileButton").disabled=
!0),null!==document.querySelector("div.actions")&&(document.querySelector("div.actions").outerHTML=""));window.location.pathname.startsWith("/activities")&&(activites_disable_on_load(),window.onhashchange=function(){setTimeout(activites_disable_on_load,600)},null!==document.getElementById("lconn_act_StartActivityButton_0")&&document.getElementById("lconn_act_StartActivityButton_0").addEventListener("click",function(){document.getElementById("lconn_act_NonceSaveButton_0").querySelector('input[type="button"]').disabled=
!0},!1),null!==document.getElementById("editProfileButton")&&(document.getElementById("editProfileButton").onClick="",document.getElementById("editProfileButton").disabled=!0));window.location.pathname.startsWith("/files")&&(files_disable_usability(),window.addEventListener("popstate",function(a){files_disable_usability()}));if(-1<window.location.pathname.indexOf("communityoverview")||-1<window.location.pathname.indexOf("communitystart"))var f=1E3,n=setInterval(function(){Array.prototype.slice.call(document.querySelectorAll("#showRichContent")).forEach(function(a){a.querySelector("a")&&
(a.querySelector("a").outerHTML="")});Array.prototype.slice.call(document.querySelectorAll(".lconnActionBar")).forEach(function(a){a.outerHTML=""});lconn.core.WidgetPlacement.openMenu=function(){return!1};f+=f/10;1250<=f&&clearInterval(n)},f);window.location.pathname.startsWith("/wikis")&&wikis_disable_on_load();if(window.location.pathname.startsWith("/communities")||window.location.pathname.startsWith("/metricssc/communitiesapp")||window.location.pathname.startsWith("/forums")){if(gatekeeperConfig["catalog-ui-updated"]&&
gatekeeperConfig["catalog-card-view"]){null!==document.getElementById("lconn-create-community-container")&&(document.getElementById("lconn-create-community-container").outerHTML="");var g=0,h=setInterval(function(){g++;0<document.querySelectorAll('div[dojoattachpoint="cardResultsBody"] div.card-wrapper div.expander').length&&(clearInterval(h),0<document.querySelectorAll("div.card-wrapper div.card-details__inner div.ellipsis").length&&Array.prototype.slice.call(document.querySelectorAll("div.card-wrapper div.card-details__inner div.ellipsis")).forEach(function(a){a.outerHTML=
""}),Array.prototype.slice.call(document.querySelectorAll('div[dojoattachpoint="cardResultsBody"] div.card-wrapper div.expander')).forEach(function(a){a.addEventListener("click",function(){var a=0,b=setInterval(function(){a++;null!==document.querySelector("div.card-overflow.bx--overflow-menu")&&(document.querySelector("div.card-overflow.bx--overflow-menu").outerHTML="",clearInterval(b));20<a&&clearInterval(b)},50)},!1)}));1500<g&&clearInterval(h)},100)}null!==document.getElementById("createPlaceButton")&&
(document.getElementById("createPlaceButton").addEventListener("click",function(){document.getElementById("startNewCommMenuItem").setAttribute("widgetid","");document.getElementById("copyExistingCommMenuItem").setAttribute("widgetid","")},!1),document.getElementById("createPlaceButton").style.visibility="hidden");if(null!==document.getElementById("Members_navItem")||-1<window.location.hash.indexOf("fullpageWidgetId=Members")){var k=function(){var a=setInterval(function(){null!==document.getElementById("controlsRow")&&
(_Members_iContext.iScope().displayMemberCreateForm=function(){return!1},_Members_iContext.iScope().displayMemberInviteForm=function(){return!1},_Members_iContext.iScope().displayImport=function(){return!1},_Members_iContext.iScope().displayExport=function(){return!1},_Members_iContext.iScope().doMemberDelete=function(){return!1},clearInterval(a))},600)};document.getElementById("Members_navItem").addEventListener("click",function(){k()},!1);k()}if(null!==document.querySelector('li[widgetdefid="Forum"]')||
window.location.pathname.startsWith("/forums")){var l=function(){var a=setInterval(function(){if(document.getElementById("topicList")||null!==document.querySelector(".dfCommunityForums")||null!==document.getElementById("forum"))document.querySelector(".lotusBtnAction").outerHTML="",null!==document.getElementById("forum")&&(_forum_.reply=function(){return!1},Array.prototype.slice.call(document.querySelectorAll("#forum .lotusActions")).forEach(function(a){a.outerHTML=""}),Array.prototype.slice.call(document.querySelectorAll(".lotusLikeAction")).forEach(function(a){a.outerHTML=
""})),clearInterval(a)},600)};document.querySelector('li[widgetdefid="Forum"]').addEventListener("click",function(){l()},!1);l()}if(null!==document.querySelector('li[widgetdefid="Files"]')){var p=function(){var a=setInterval(function(){if(document.getElementById("topicList")||null!==document.querySelector(".dfCommunityForums")||null!==document.getElementById("forum"))document.querySelector(".lotusBtnAction").outerHTML="",null!==document.getElementById("forum")&&(_forum_.reply=function(){return!1},
Array.prototype.slice.call(document.querySelectorAll("#forum .lotusActions")).forEach(function(a){a.outerHTML=""}),Array.prototype.slice.call(document.querySelectorAll(".lotusLikeAction")).forEach(function(a){a.outerHTML=""})),clearInterval(a)},600)};document.querySelector('li[widgetdefid="Files"]').addEventListener("click",function(){p()},!1);disable_forum_functions()}if(null!==document.querySelector('li[widgetdefid="Bookmarks"]')||window.location.pathname.startsWith("/communities/service/html/community/bookmarks")){var m=
function(){var a=setInterval(function(){document.getElementById("contentArea")&&(document.getElementById("addBookmarkBtn").outerHTML="",clearInterval(a))},600)};document.querySelector('li[widgetdefid="Forum"]').addEventListener("click",function(){m()},!1);m()}null!==document.getElementById("displayActionsBtn")&&(document.getElementById("displayActionsBtn").outerHTML='<a href="#">'+document.getElementById("displayActionsBtn").innerText+"</a>");null!==document.getElementById("joinDisplayActionsBtn")&&
(document.getElementById("joinDisplayActionsBtn").outerHTML=document.getElementById("joinDisplayActionsBtn").innerText);null!==document.getElementById("followDisplayActionsBtn")&&(lconn.communities.bizCard.core.follow=function(){return!1},lconn.communities.bizCard.core.unFollow=function(){return!1});if(-1<window.location.hash.indexOf("section=files")||-1<window.location.hash.indexOf("section=trash")||-1<window.location.hash.indexOf("section=folders"))community_files_disable_on_load(),window.onhashchange=
function(){console.log("test files");community_files_disable_on_load()}}}},1E3);function check_if_periscope_enabled(){return!!Array.prototype.slice.call(document.querySelectorAll("link[href]")).some(function(a){if(null!==a.getAttribute("href")&&-1<a.href.indexOf("repoName=cnx-custom-theme"))return!0})}
function files_disable_usability(){if(null!==document.getElementById("scene-body")){var a=document.createElement("div");a.style.position="absolute";a.style.top="0";a.style.bottom="0";a.style.left="0";a.style.right="0";a.style.height="100%";a.style.zIndex="99999999";a.id="stop-window";document.getElementById("scene-body").style.position="relative";document.getElementById("scene-body").insertBefore(a,document.getElementById("scene-body").firstChild);setInterval(function(){if(null==document.getElementById("stop-window")){var a=
document.createElement("div");a.style.position="absolute";a.style.top="0";a.style.bottom="0";a.style.left="0";a.style.right="0";a.style.height="100%";a.style.zIndex="99999999";a.id="stop-window";document.getElementById("scene-body").style.position="relative";document.getElementById("scene-body").insertBefore(a,document.getElementById("scene-body").firstChild)}},1500)}null!==document.getElementById("lconn_files_action_createitem_0")&&(document.getElementById("lconn_files_action_createitem_0").disabled=
!0);null!==document.querySelector(".lotusPaging")&&Array.prototype.slice.call(document.querySelectorAll(".lotusPaging li a.numShape")).forEach(function(a){null!==document.querySelectorAll("a.check.hc")&&a.addEventListener("click",function(){setTimeout(function(){files_disable_top_action();files_disable_usability()},600)},!1);files_disable_top_action()})}
function files_disable_top_action(){Array.prototype.slice.call(document.querySelectorAll("a.check.hc")).forEach(function(a){a.addEventListener("click",function(){Array.prototype.slice.call(document.querySelectorAll("#lotusContentSceneActions div.lotusBtnContainer button")).forEach(function(a,c){0!=c&&(a.disabled=!0)})},!1)})}
function communities_button_nav_disable_features(){document.querySelector('#tabNavContainer li[widgetdefid="Wiki"]').addEventListener("click",function(){wikis_disable_on_load()},!1)}function community_files_disable_on_load(){var a=setInterval(function(){null!==document.getElementById("actionContainer")&&(null!==document.getElementById("actionContainer")&&(document.getElementById("actionContainer").querySelector("button").disabled=!0),clearInterval(a))},800)}
function activites_disable_on_load(){null!==Array.prototype.slice.call(document.querySelectorAll(".actionButtons .lotusBtn"))&&Array.prototype.slice.call(document.querySelectorAll(".actionButtons .lotusBtn")).forEach(function(a){a.style.visibility="hidden"});null!==document.querySelectorAll('div[dojoattachpoint="activityListBody_AP"] div.lotusActionBar span.lotusBtn')&&Array.prototype.slice.call(document.querySelectorAll('div[dojoattachpoint="activityListBody_AP"] div.lotusActionBar span.lotusBtn')).forEach(function(a){a.style.visibility=
"hidden"});null!==document.querySelectorAll("#activityPageNodeContainer div.lotusActionBar span.lotusBtn")&&Array.prototype.slice.call(document.querySelectorAll("#activityPageNodeContainer div.lotusActionBar span.lotusBtn")).forEach(function(a){a.style.visibility="hidden"});document.querySelectorAll('div[dojoattachpoint="list_AP"] a[role="button"]')&&Array.prototype.slice.call(document.querySelectorAll('div[dojoattachpoint="list_AP"] a[role="button"]')).forEach(function(a){a.style.visibility="hidden"});
null!==document.querySelector('li[dojoattachpoint="commFollowButton_AP"]')&&(document.querySelector('li[dojoattachpoint="commFollowButton_AP"]').style.visibility="hidden");null!==document.querySelector('li[dojoattachpoint="follow_AP"]')&&(document.querySelector('li[dojoattachpoint="follow_AP"]').style.visibility="hidden");null!==document.querySelector('li[dojoattachpoint="mark_AP"]')&&(document.querySelector('li[dojoattachpoint="mark_AP"]').style.visibility="hidden");null!==document.querySelector('li[dojoattachpoint="moreActions_AP"]')&&
(document.querySelector('li[dojoattachpoint="moreActions_AP"]').style.visibility="hidden")}
function wikis_disable_on_load(){var a=setInterval(function(){window.onhashchange=function(){setTimeout(wikis_disable_on_load,600)};Array.prototype.slice.call(document.querySelectorAll('#sideNav div.dijitTreeContainer[role="tree"] div[role="treeitem"]')).forEach(function(a){a.addEventListener("click",function(){setTimeout(wikis_disable_on_load,600)},!1)});Array.prototype.slice.call(document.querySelectorAll("#sideNav div ul li")).forEach(function(a){a.addEventListener("click",function(){setTimeout(wikis_disable_on_load,
600)},!1)});null!==document.getElementById("lconnWikisNavTree")&&(null!==document.querySelector("#lotusColLeft a.lotusAction")&&(document.querySelector("#lotusColLeft a.lotusAction").outerHTML=""),null!==document.querySelector(".lotusBtnContainer")&&(document.querySelector(".lotusBtnContainer").innerHTML=""),Array.prototype.slice.call(document.querySelectorAll("#tabNavMenu div.tabNavActionsMenu ul li a")).forEach(function(a){a.addEventListener("click",function(){null!==document.getElementById(a.id+
"_dropdown")&&(document.getElementById(a.id+"_dropdown").innerHTML="")},!1)}),clearInterval(a))},600)}function CNX_DISABLE_INPUT_FIELDS(a){var b=1E3;setInterval(function(){if("undefined"!==typeof CKEDITOR)for(var c in CKEDITOR.instances)CKEDITOR.instances[c].setReadOnly(a);b+=b/10},b)}
function disable_filedrop_upload_dialog_submit_button(){window.location.pathname.startsWith("/files/app")&&document.getElementById("list").addEventListener("dragover",function(a){a.stopPropagation();a.preventDefault();var b=setInterval(function(){null!==document.getElementById("lconn_share_widget_Dialog_0")&&(document.getElementById("submit_button").readonly=!0,document.getElementById("submit_button").type="none",clearInterval(b))},200)})};
